# 增强趋势模式加载的文件

# WebSocket连接设置（增强趋势优化）
WEBSOCKET_RECONNECT_DELAY=2000          # 更快重连 (2秒)
WEBSOCKET_MAX_RECONNECTS=15             # 增加重连次数
DEBUG_WEBSOCKET=false                   # 关闭WebSocket调试减少噪音
DEBUG_FEE_MONITOR=false                 # 关闭手续费监控调试
DEBUG_MARKET_ANALYZER=true              # 保留市场分析调试
DEBUG_TRADE_RECORDING=false             # 关闭交易记录调试减少噪音

# Core trading symbol and sizing
TRADE_SYMBOL=ASTERUSDT                  # Trading pair symbol (切换回ASTERUSDT)
TRADE_AMOUNT=20                         # 基础订单数量 (20 ASTER × $1.85 = $37.0总价值)

# Risk management (USD amounts unless noted) - 增强趋势优化
# 注意：当ENABLE_DYNAMIC_RISK=true时，以下静态参数将被忽略，系统将根据价格动态计算
LOSS_LIMIT=0.28                         # 更紧密止损 (仅在动态风险管理禁用时生效)
TRAILING_PROFIT=0.56                    # 更早启动追踪止盈 (仅在动态风险管理禁用时生效)
TRAILING_CALLBACK_RATE=0.6              # 更敏感回调百分比 (始终生效)
PROFIT_LOCK_TRIGGER_USD=0.37            # 更早触发保护 (仅在动态风险管理禁用时生效)
PROFIT_LOCK_OFFSET_USD=0.15             # 更紧密偏移 (仅在动态风险管理禁用时生效)

# Trading behavior controls - 增强模式高频优化
POLL_INTERVAL_MS=300                    # 更高频数据更新间隔 (300ms)
MAX_LOG_ENTRIES=200                     # 减少日志条数，提升性能

# Maker Engine settings - 做市商策略专用参数
REFRESH_INTERVAL_MS=3000                # 做市策略刷新间隔
MAKER_SPREAD_PCT=0.008                  # 买卖价差百分比 (0.8%)
MAKER_MAX_POSITION_SIZE=60              # 做市商最大持仓数量 (60 ASTER)
MAKER_STOP_LOSS_PCT=0.015               # 做市商止损百分比 (1.5%)
MAKER_TAKE_PROFIT_PCT=0.022             # 做市商止盈百分比 (2.2%)
MAKER_MAX_CLOSE_SLIPPAGE_PCT=0.025      # 做市商平仓滑点保护
MAKER_PRICE_TICK=0.001                  # 做市商价格最小变动单位 (ASTER适用)

# Fee monitoring settings - 高频交易优化
FEE_RATE=0.0004                         # 交易手续费率 (0.04%)
MAX_DAILY_FEE_PCT=3.0                   # 增加到3%，支持更多交易
MAX_HOURLY_FEE_PCT=1.0                  # 增加到1%，支持高频策略
FEE_WARNING_THRESHOLD=2.0               # 降低警告阈值，更早提醒
ENABLE_FEE_PROTECTION=true              # 启用手续费保护

# Fee tracking and logging
LOG_FEE_SUMMARY_INTERVAL=600000         # 增加到10分钟，减少日志噪音
RESET_FEE_COUNTER_HOUR=0                # 每日重置手续费计数器的小时 (0-23)

# Dynamic Risk Management - 增强趋势核心优化
ENABLE_DYNAMIC_RISK=true                # 启用动态风险管理 (启用后将忽略上述静态风险参数)
DYNAMIC_RISK_THRESHOLD=0.008            # 更敏感价格变化阈值 (0.8%变化时重新计算)
RISK_PERCENTAGE=0.004                   # 更紧密基础风险百分比 (0.4% 止损)
PROFIT_TARGET_PERCENTAGE=0.006          # 更现实基础收益目标 (0.6% 止盈)

# High-frequency trading optimizations - 增强趋势专用优化
MIN_POSITION_HOLD_TIME_MS=500           # 更短最小持仓时间 (0.5秒)
MAX_POSITION_SIZE_MULTIPLIER=1.5        # 更灵活最大持仓规模倍数
TRAILING_PROFIT_PERCENTAGE=0.004        # 更紧密追踪止盈百分比 (0.4%)
PROFIT_LOCK_OFFSET_PERCENTAGE=0.002     # 更小利润锁定偏移百分比 (0.2%)
PROFIT_LOCK_TRIGGER_PERCENTAGE=0.006    # 更早利润锁定触发百分比 (0.6%)

# Market execution and slippage protection - 更积极执行策略
MARKET_PRICE_OFFSET_PCT=0.004           # 更小市价单价格偏移保护 (0.4%)
ACTIVATION_PRICE_OFFSET_PCT=0.008       # 更小激活价格偏移百分比 (0.8%)
MAX_CLOSE_SLIPPAGE_PCT=0.03             # 更严格最大平仓滑点 (3%)
PRICE_TICK=0.001                        # 价格变动最小单位 (适合ASTER: $0.001)
QTY_STEP=0.001                          # 数量变动最小单位 (0.001 ASTER)

# Greedy Take Profit settings - 更激进的贪婪止盈策略 
ENABLE_GREEDY_TAKE_PROFIT=true          # 启用贪婪止盈
GREEDY_SAMPLE_SIZE=3                    # 更快决策的价格采样数量 (3个价格点)
GREEDY_REVERSAL_THRESHOLD=0.0015        # 更敏感反转检测阈值 (0.15%价格反转)
GREEDY_MAX_WAIT_TIME_MS=20000           # 更短最大等待时间 (20秒后强制平仓)
GREEDY_EXTRA_PROFIT_TARGET=0.003        # 更保守额外收益目标 (0.3%额外收益)

# K线间隔和技术分析
KLINE_INTERVAL=1m                       # K线间隔 (1分钟，高频分析)

# ============ 增强趋势模式技术分析优化配置 ============

# Technical Analysis Enhanced Settings - 核心技术指标优化
CONFIDENCE_THRESHOLD=50                 # 降低置信度阈值(70% → 50%)，增加交易机会
KDJ_PERIOD=9                           # 更敏感的KDJ周期(14 → 9)
KDJ_K_PERIOD=7                         # K值周期(9 → 7)，更快响应
KDJ_D_PERIOD=3                         # D值周期保持3
RSI_PERIOD=9                           # 更短RSI周期(14 → 9)，更敏感
RSI_OVERBOUGHT=78                      # 更严格超买线(75 → 78)
RSI_OVERSOLD=22                        # 更严格超卖线(25 → 22)
VOLUME_MA_PERIOD=15                    # 更短成交量均线(20 → 15)

# Hybrid Signal Configuration - 混合信号配置
USE_HYBRID_SIGNALS=true                # 启用混合信号(SMA + 技术指标)
SMA_WEIGHT=0.3                         # SMA权重30%
TECHNICAL_WEIGHT=0.7                   # 技术指标权重70%
MIN_SIGNAL_STRENGTH=0.4                # 最小信号强度40%

# Market Environment Adaptation - 市场环境适应
TREND_SENSITIVITY=0.6                  # 趋势敏感度(0-1)
VOLATILITY_ADJUSTMENT=true             # 启用波动率调整
MARKET_REGIME_DETECTION=true           # 启用市场状态检测
CONSOLIDATION_THRESHOLD=0.005          # 盘整检测阈值(0.5%)

# Performance Monitoring - 性能监控
ENABLE_PERFORMANCE_TRACKING=true       # 启用性能追踪
PERFORMANCE_WINDOW_MINUTES=60          # 性能窗口60分钟
MIN_WIN_RATE=0.45                      # 最小胜率45%
MAX_DRAWDOWN_PCT=2.0                   # 最大回撤2%

# Redis Configuration for Enhanced Mode - Redis配置
REDIS_HOST=localhost                   
REDIS_PORT=6379
REDIS_PASSWORD=                        # 如果有密码请填写
REDIS_CACHE_TTL=3600                   # 缓存1小时
REDIS_MAX_KLINES=1000                  # 最大K线缓存数量

# Advanced Technical Indicators - 高级技术指标
ENABLE_MACD=true                       # 启用MACD指标
MACD_FAST=8                           # MACD快线周期(12 → 8)
MACD_SLOW=18                          # MACD慢线周期(26 → 18)
MACD_SIGNAL=6                         # MACD信号线周期(9 → 6)

ENABLE_BOLLINGER=true                  # 启用布林带
BB_PERIOD=15                          # 布林带周期(20 → 15)
BB_STDDEV=1.8                         # 标准差倍数(2.0 → 1.8)

# Smart Order Management - 智能订单管理
ENABLE_SMART_ORDERS=true               # 启用智能订单
ORDER_TIMEOUT_MS=15000                 # 订单超时15秒
MAX_PENDING_ORDERS=3                   # 最大挂单数量
ORDER_RETRY_COUNT=2                    # 订单重试次数

# Risk Control Enhancement - 风险控制增强
DAILY_MAX_TRADES=50                    # 每日最大交易次数
CONSECUTIVE_LOSS_LIMIT=3               # 连续亏损限制
COOL_DOWN_PERIOD_MS=5000              # 亏损后冷却期5秒
EMERGENCY_STOP_LOSS_PCT=3.0           # 紧急止损3%

# Backtesting and Simulation - 回测模式
ENABLE_PAPER_TRADING=false            # 启用模拟交易
SIMULATION_BALANCE=1000               # 模拟余额$1000
LOG_PAPER_TRADES=true                 # 记录模拟交易
